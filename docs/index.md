# LangGraph 에이전트 시스템 통합 아키텍처 백서

> **직관성과 확장성의 균형: 프로토타입에서 프로덕션까지 하나의 구조로**

---

## 개요

본 백서는 LangGraph 기반 에이전트 시스템을 구축할 때 반복적으로 직면하는 아키텍처 딜레마 — "빠르게 만들 수 있지만 확장이 어려운 구조"와 "확장 가능하지만 시작이 무거운 구조" — 를 해소하기 위한 **통합 아키텍처**를 제시한다.

7개 레이어, 약 18개 파일로 구성된 이 아키텍처는 최소 8개 파일로 동작하는 프로토타입에서 시작하여, 코드 재설계 없이 프로덕션 수준의 시스템으로 점진 확장할 수 있다.

---

## 목차

| 장 | 제목 | 핵심 내용 |
|---|---|---|
| [제1장](./01-서론.md) | 서론 | 배경, 목적, 대상 독자, 용어 정의 |
| [제2장](./02-설계-원칙.md) | 통합 아키텍처 설계 원칙 | 설계 철학, 7대 원칙, 채택·폐기 기준 |
| [제3장](./03-전체-구조.md) | 통합 아키텍처 전체 구조 | 디렉토리 구조, 레이어 의존성, 데이터 흐름 |
| [제4장](./04-core-레이어.md) | Core 레이어 | State, Schema, Model Factory |
| [제5장](./05-memory-레이어.md) | Memory 레이어 | 체크포인터, 영속 저장소, 환경별 구성 |
| [제6장](./06-prompts-레이어.md) | Prompts 레이어 | 템플릿, 동적 빌더, 버전 관리 |
| [제7장](./07-tools-레이어.md) | Tools 레이어 | 베이스 클래스, 레지스트리, 확장 전략 |
| [제8장](./08-nodes-레이어.md) | Nodes 레이어 | 추론, 실행, 라우팅 노드 |
| [제9장](./09-graphs-레이어.md) | Graphs 레이어 | 빌더 유틸, 서브그래프, 메인 그래프 |
| [제10장](./10-interfaces-레이어.md) | Interfaces 레이어 | REST API, 스트리밍 핸들러 |
| [제11장](./11-config-레이어.md) | Config 레이어 | 환경 변수, 선언적 에이전트 구성 |

---

## 아키텍처 한눈에 보기

```
agent_system/
├── core/           # 기반 레이어 (State, Schema, Model)
├── memory/         # 메모리 레이어 (Checkpointer, Store)
├── prompts/        # 프롬프트 레이어 (Templates, Builder)
├── tools/          # 도구 레이어 (Base, Registry, 개별 도구)
├── nodes/          # 노드 레이어 (Reasoning, Execution, Routing)
├── graphs/         # 그래프 레이어 (Builder, Subgraphs, Main)
├── interfaces/     # 인터페이스 레이어 (API, Streaming)
├── config/         # 설정 (Settings, agents.yaml)
└── main.py         # 실행 진입점
```

---

## 문서 정보

- **버전:** 1.0
- **대상 프레임워크:** LangGraph (Python)
- **범위:** 단일 에이전트 ~ 멀티 에이전트 서브그래프 구조
